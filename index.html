// index.js
// FB-SHARE KURAPIKO - API Handler

const axios = require("axios");

const API_URL = "https://vern-rest-api.vercel.app/api/share";
const API_KEY = "saging";

/**
 * startShare
 * @param {string} cookie - FB cookies
 * @param {string} link - Facebook post link
 * @param {number} limit - Share limit
 */
async function startShare(cookie, link, limit) {
  try {
    const res = await axios.get(API_URL, {
      params: {
        key: API_KEY,
        cookie: cookie,
        link: link,
        limit: limit
      }
    });

    return res.data;
  } catch (err) {
    return {
      success: false,
      error: err.message
    };
  }
}

module.exports = {
  startShare
};
